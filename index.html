<!DOCTYPE html>
<html>
  <head>
    <style type="text/css">
      .container {
        padding-right: 15px;
        padding-left: 15px;
        margin-right: auto;
        margin-left: auto;
      }
      @media (min-width: 720px) {
        .container {
          width:720px;
        }
      }
      .embed-responsive {
          position: relative;
          display: block;
          height: 0;
          padding-bottom: 56.25%;
          overflow: hidden;
          margin: 45px 0;
      }
      .embed-responsive iframe {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          border: 0;
      }
      .embed-responsive a {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          border: 0;
          z-index: 1;
      }
      .img-responsive {
          display: block;
          max-width: 100%;
          height: auto;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="embed-responsive">
        <a href="#" id="customThumbnail">
          <img class="img-responsive" src="https://via.placeholder.com/1280x720?text=Custom+Thumbnail">
        </a>
        <div id="player"></div>
      </div>
      <p><a href="https://github.com/youtube-custom-thumbnail/youtube-custom-thumbnail.github.io">View repository on GitHub</a></p>
    </div>
    <script type="text/javascript">
      var tag = document.createElement('script');
      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      var
        player,
        youTubeIframeAPIReady = false,
        customThumbnail = document.getElementById('customThumbnail');

      function onYouTubeIframeAPIReady() {
        youTubeIframeAPIReady = true;
      }

      customThumbnail.addEventListener('click', function(e) {
        e.preventDefault();
        onCustomThumbnailClick();
      });
      function onCustomThumbnailClick() {
        if(!youTubeIframeAPIReady) { return };
        player = new YT.Player('player', {
          videoId: 'QQ32MyZmXeQ',
          playerVars: { autoplay: true },
          events: { 'onStateChange': onPlayerStateChange }
        }
      )};

      function onPlayerStateChange(e) {
        // YT.PlayerState.PLAYING
        if (e.data == 1) {
          if(!customThumbnail) {return};
          customThumbnail.parentNode.removeChild(customThumbnail);
          customThumbnail = null;
        }
      }
    </script>
  </body>
</html>